<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy 22nd Birthday Indra ğŸ‰</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
<style>
body, html {
  margin: 0; padding: 0; height: 100%;
  font-family: 'Baloo 2', cursive;
  overflow: hidden;
  background: url("nailong.png") no-repeat center center fixed;
  background-size: cover;
  color: #111;
}
.slide {
  position: absolute; top:0; left:0;
  width:100%; height:100%;
  display:flex; justify-content:center; align-items:center;
  flex-direction:column; background: rgba(0,0,0,0.6);
  color: white; text-align:center; z-index:10;
}
.slide h1 { font-family:'Pacifico', cursive; font-size:2.5rem; opacity:0; animation: fadeIn 2s forwards; }
.slide h2, .slide p { font-size:1.5rem; margin-top:20px; opacity:0; animation: fadeIn 2s forwards; }
.btn {
  background: linear-gradient(135deg,#ffcc00,#ffaa00); color:#111;
  padding:12px 24px; border:none; border-radius:30px; font-weight:bold;
  cursor:pointer; margin-top:25px; font-size:1rem; box-shadow:2px 2px 8px rgba(0,0,0,0.3); transition:0.3s;
}
.btn:hover { transform: scale(1.05); }
@keyframes fadeIn { from {opacity:0; transform:scale(0.8);} to {opacity:1; transform:scale(1);} }

.main {
  display:none; flex-direction:column; text-align:center;
  background: rgba(255,255,255,0.7); color:#111; height:100%;
  justify-content:center; align-items:center;
}
.gift-container {
  margin:25px auto; gap:20px; flex-wrap:wrap; justify-content:center; display:flex;
}
.gift {
  width:110px; height:110px; background:#e63946; border-radius:12px;
  cursor:pointer; box-shadow:0 6px 20px rgba(0,0,0,0.3); position:relative;
}
.gift::before {
  content:""; position:absolute; top:0; left:47%; width:14px; height:100%; background:gold; border-radius:3px;
}
.gift::after {
  content:""; position:absolute; top:47%; left:0; width:100%; height:14px; background:gold; border-radius:3px;
}
.popup {
  display:none; position:fixed; top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:100;
}
.popup-content {
  background:#fff; padding:20px; border-radius:20px; max-width:350px;
  text-align:center; box-shadow:0 6px 20px rgba(0,0,0,0.3); animation: popUp 0.5s ease;
}
.popup-content img { max-width:200px; margin-bottom:15px; }
.popup-content h2 { font-family:'Pacifico', cursive; margin-bottom:10px; font-size:1.5rem; color:#e63946; }
.popup-content p { font-size:1rem; margin-bottom:10px; line-height:1.4; }
.close-btn { background:#e63946; color:#fff; border:none; border-radius:20px; padding:8px 16px; cursor:pointer; margin-top:10px; }
@keyframes popUp { from {transform:scale(0.5); opacity:0;} to {transform:scale(1); opacity:1;} }

#wheel-section { display:none; flex-direction:column; justify-content:center; align-items:center; height:100%; background:rgba(255,255,255,0.7); text-align:center; }
#wheel { border-radius:50%; border:8px solid #fff; box-shadow:0 6px 20px rgba(0,0,0,0.3); margin:20px auto; }
</style>
</head>
<body>

<!-- Slide 1 -->
<div class="slide" id="slide1">
  <h1 style="animation-delay:0s;">ğŸ‰ Happy Birthday ğŸ‰</h1>
  <h2 style="animation-delay:2.5s;">âœ¨ 22nd Birthday Indra âœ¨</h2>
</div>

<!-- Slide 2 -->
<div class="slide" id="slide2" style="display:none;">
  <p style="animation-delay:0s;">Semoga di usia yang baru ini,</p>
  <p style="animation-delay:1.5s;">Indra selalu sehat, bahagia, dan sukses,</p>
  <p style="animation-delay:3s;">dikelilingi orang-orang baik (yang kayak gaby),</p>
  <p style="animation-delay:4.5s;">dan semua mimpi bisa tercapai âœ¨</p>
  <button class="btn" id="slide2-btn" style="display:none;" onclick="goToGifts()">Buka Kado ğŸ</button>
</div>

<!-- Main gifts -->
<div class="main" id="main">
  <h1>ğŸ‚ Yuk buka kadonya, Indra ğŸ‚</h1>
  <div class="gift-container">
    <div class="gift" onclick="openGift(1)"></div>
    <div class="gift" onclick="openGift(2)"></div>
    <div class="gift" onclick="openGift(3)"></div>
  </div>
</div>

<!-- Popups Kado -->
<div class="popup" id="popup1">
  <div class="popup-content">
    <h2>ğŸ‚ Kue Spesial</h2>
    <img src="dinocake.jpg" alt="Cake">
    <p>Semoga tiap potongan kue ini bawa manis di perjalananmu, Indra! ğŸ‰</p>
    <button class="close-btn" onclick="closeGift(1)">Tutup</button>
  </div>
</div>
<div class="popup" id="popup2">
  <div class="popup-content">
    <h2>ğŸˆ Balon Bahagia</h2>
    <img src="balondino.jpg" alt="Balloons">
    <p>Balon ini terbang tinggi, semoga semangatmu pun ikut terbang ke mimpi baru! ğŸš€</p>
    <button class="close-btn" onclick="closeGift(2)">Tutup</button>
  </div>
</div>
<div class="popup" id="popup3">
  <div class="popup-content">
    <h2>ğŸ’ Hadiah Kejutan</h2>
    <img src="dinogemoy.jpg" alt="Gift">
    <p>Rezeki, kesehatan, dan kebahagiaan selalu menyertaimu, Indra âœ¨</p>
    <button class="close-btn" onclick="closeGift(3)">Tutup</button>
  </div>
</div>

<!-- Wheel Section -->
<div id="wheel-section">
  <h1>ğŸ€ Putar Rodanya, Indra! ğŸ€</h1>
  <canvas id="wheel" width="300" height="300"></canvas>
  <button class="btn" onclick="spinWheel()">Putar ğŸ¡</button>
</div>

<!-- Popup Hadiah -->
<div class="popup" id="popupWheel">
  <div class="popup-content">
    <h2>ğŸ Selamat! ğŸ</h2>
    <img id="wheelPrizeImg" src="" alt="Hadiah" style="max-width:150px; margin-bottom:10px;">
    <p id="wheelPrizeText" style="font-size:1rem; line-height:1.4;"></p>
    <button class="close-btn" onclick="closeWheelPopup()">Tutup</button>
  </div>
</div>

<audio id="bg-music" src="https://www.bensound.com/bensound-music/bensound-happyrock.mp3" loop></audio>

<script>
  // Slide 1 ke Slide 2
setTimeout(()=>{
  document.getElementById("slide1").style.display = "none";
  document.getElementById("slide2").style.display = "flex";

  // tampilkan tombol setelah teks terakhir selesai animasi
  setTimeout(()=>{
    document.getElementById("slide2-btn").style.display = "inline-block";
  }, 6500); // 4.5s + 2s animasi
},5000);
// Slide
setTimeout(()=>{document.getElementById("slide1").style.display="none";document.getElementById("slide2").style.display="flex";},5000);
function goToGifts(){document.getElementById("slide2").style.display="none";document.getElementById("main").style.display="flex";document.getElementById("bg-music").play();}
function openGift(num){document.getElementById("popup"+num).style.display="flex";}
function closeGift(num){
  document.getElementById("popup"+num).style.display="none";
  if(num===3){document.getElementById("main").style.display="none";document.getElementById("wheel-section").style.display="flex"; drawWheel();}
}

let openedGifts = 0; // hitung kado yang sudah dibuka

function openGift(num){
  document.getElementById("popup"+num).style.display="flex";
}

function closeGift(num){
  document.getElementById("popup"+num).style.display="none";
  openedGifts++; // tambah 1 tiap kado ditutup

  if(openedGifts === 3){ // baru tampil wheel kalau semua 3 dibuka
    document.getElementById("main").style.display="none";
    document.getElementById("wheel-section").style.display="flex";
    drawWheel();
  }
}

// Wheel
const canvas=document.getElementById("wheel"),ctx=canvas.getContext("2d");
const hadiah=["Liburan Gratis","Voucher Makan","Ucapan Spesial","Beliin Es Krim","Kejutan Misterius","Pelukan Gratis"];
let startAngle=0,spinAngleStart=0,spinTime=0,spinTimeTotal=0,spinTimeout=null;

// Hadiah spinwheel lengkap
const wheelGifts = [
  {name:"Liburan Gratis", img:"jalandino.jpg", text:"Woohoo! Selamat, kamu dapat liburan gratis! Siapkan koper dan sunscreen-mu ğŸ–ï¸âœˆï¸"},
  {name:"Voucher Makan", img:"kesaldino.jpg", text:"Yay! Kamu dapat voucher makan enak! Tapi Boongg ğŸ•ğŸ£ğŸ”"},
  {name:"Ucapan Spesial", img:"dinopergi.jpg", text:"Ini hadiah spesial berupa ucapan manis: Semoga setiap hari penuh kebahagiaan âœ¨â¤ï¸"},
  {name:"Beliin Es Krim", img:"cemongdino.jpg", text:"Mau es krim? Dapat hadiah beli es krim favoritmu ğŸ¦ğŸ˜‹"},
  {name:"Kejutan Misterius", img:"ledekdino.jpg", text:"Hadiah misterius menantimu! Tebak isinya, siapa tahu beruntung ğŸğŸ‘€"},
  {name:"Pelukan Gratis", img:"pelukdino.jpg", text:"Dapat hadiah pelukan gratis! Virtual hug untukmu ğŸ¤—ğŸ’•"}
];

function drawWheel(){
  const outsideRadius=140,textRadius=100,insideRadius=30;
  ctx.clearRect(0,0,300,300);
  const arc=Math.PI/(hadiah.length/2);
  ctx.font="bold 16px Baloo 2"; ctx.textAlign="center"; ctx.textBaseline="middle";
  for(let i=0;i<hadiah.length;i++){
    const angle=startAngle+i*arc;
    ctx.fillStyle=i%2===0?"#ffcc00":"#ffaa00";
    ctx.beginPath();
    ctx.arc(150,150,outsideRadius,angle,angle+arc,false);
    ctx.arc(150,150,insideRadius,angle+arc,angle,true);
    ctx.fill();
    ctx.save();
    ctx.translate(150+Math.cos(angle+arc/2)*textRadius,150+Math.sin(angle+arc/2)*textRadius);
    ctx.rotate(angle+arc/2+Math.PI/2);
    ctx.fillStyle="#111";
    ctx.fillText(hadiah[i],0,0);
    ctx.restore();
  }
  // panah
  ctx.fillStyle="#e63946";
  ctx.beginPath();
  ctx.moveTo(150-10,10);
  ctx.lineTo(150+10,10);
  ctx.lineTo(150,40);
  ctx.closePath(); ctx.fill();
}

function rotateWheel(){spinAngleStart*=0.97; startAngle+=spinAngleStart*Math.PI/180; drawWheel(); spinTime+=30;
  if(spinTime>=spinTimeTotal){stopRotateWheel();}else{spinTimeout=setTimeout(rotateWheel,30);}
}

function spinWheel(){spinAngleStart=Math.random()*10+10; spinTime=0; spinTimeTotal=Math.random()*3000+4000; rotateWheel();}

function stopRotateWheel(){
  clearTimeout(spinTimeout);
  const degrees=startAngle*180/Math.PI+90;
  const arc=360/wheelGifts.length;
  const index=Math.floor((360-(degrees%360))/arc);

  // Ambil hadiah unik dari array
  const gift = wheelGifts[index];
  document.getElementById("wheelPrizeImg").src = gift.img;
  document.getElementById("wheelPrizeText").innerText = gift.text;

  document.getElementById("popupWheel").style.display="flex";
}

function closeWheelPopup(){document.getElementById("popupWheel").style.display="none";}
</script>
</body>
</html>
